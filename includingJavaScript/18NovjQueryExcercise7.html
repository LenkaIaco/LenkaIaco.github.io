<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../fontawesomeButtonIcons/css/all.css">
    <style>
        greenbox{
            background-color: mediumseagreen;
            height: fit-content;
            width: fit-content;
            display: block;
            padding: 30px;
        }
        greybox{
            background-color: rgb(235, 232, 232);
            display: flex;
            justify-content: center;
            height: fit-content;
            width: 300px;
            flex-wrap: wrap;
            color: rgb(170, 168, 168);
            font-weight: bold;
            margin-left: 20px;
            margin-right: 20px;
        }
        p{
            width: 250px;
            display:flex;
            justify-content: space-between;
            background-color: rgb(235, 232, 232);
            border: 0;
            padding: 0;
        }
        task{margin-top: 5px;
        font-size: 20px}

        #addbutton{
            width: 60px;
            background-color:mediumvioletred;
            border: 0;
            color: white;
        }
        #newEntry{
            width:185px;
            border: 0;
        }
        inputbox{
            border: 1px solid rgb(170, 168, 168);
            box-shadow: 1px 1px 3px 1px rgb(206, 204, 204);
            border-radius: 1px;
        }
        .fa-solid.fa-circle-check{
            background-color: rgb(196, 193, 193);
            color: white;
            padding: 6px;
            border: 0;
        }
        .fa-solid.fa-trash{
           padding: 6px;
            border: 0;
            color: gray;
        }
    </style>
</head>
<body>

<greenbox>
  <greybox>

    <h1>TO-DOs:</h1>

    <inputbox><input type="text" id ="newEntry"><button id="addbutton">Add</button></inputbox>

    <ulbox>
        <p><task>Wake up</task><mybuttons><button><i class="fa-solid fa-trash" id="1"></i></button><button><i class="fa-solid fa-circle-check"></i></button></mybuttons></p>
        <p><task>Have breakfast</task><mybuttons><button><i class="fa-solid fa-trash"></i></button><button><i class="fa-solid fa-circle-check"></i></button></mybuttons></p>
        <p><task>Do some work</task><mybuttons><button><i class="fa-solid fa-trash"></i></button><button><i class="fa-solid fa-circle-check"></i></button></mybuttons></p>
        <p><task>Have lunch</task><mybuttons><button><i class="fa-solid fa-trash"></i></button><button><i class="fa-solid fa-circle-check"></i></button></mybuttons></p>
    </ulbox>

    </greybox>  
</greenbox>

<!-- <button><i class="fa-solid fa-trash"></i></button>
<button><i class="fa-regular fa-trash"></i></button>
<button><i class="fa-solid fa-circle-check"></i></button> -->

    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script>
    
    $('#addbutton').on('click', () => {
        //the variable newTask HAS TO BE DEFINED WITHIN THE event button.on('click' , otherwise it doesnt work!
        let newTask = document.getElementById("newEntry").value // ALTERNATIVE: let newTask = $('#newEntry').val()
        $('ulbox').append('<p><task>'+newTask+'</task><mybuttons><button><i class="fa-solid fa-trash"></i></button><button><i class="fa-solid fa-circle-check"></i></button></mybuttons></p>');
    })

$('p').on('click','.fa-solid.fa-circle-check',(event)=>{
    let buttonTag = event.target.parentElement;
    let myButtonsTag = buttonTag.parentElement;
    let pTag = myButtonsTag.parentElement;
    console.log(((event.target.parentElement).parentElement).parentElement);//testing if it works without variables as well - it does :)
    $(pTag).css('opacity', '0.5').css('color','green').css('text-decoration-line','line-through')
    $(event.target).css('color', 'green')
})

$('p').on('click','.fa-solid.fa-trash',(event)=>{
    let buttonTag = event.target.parentElement;
    let myButtonsTag = buttonTag.parentElement;
    let pTag = myButtonsTag.parentElement;
    console.log(((event.target.parentElement).parentElement).parentElement);//testing if it works without variables as well - it does :)
    $(pTag).remove()
})

$('p').on('click',(event)=>{
    let buttonTag = event.target.parentElement;
    let myButtonsTag = buttonTag.parentElement;
    let pTag = myButtonsTag.parentElement;
    console.log(((event.target.parentElement).parentElement).parentElement);//testing if it works without variables as well - it does :)
    $(pTag).remove()
})


    </script>
</body>
</html>